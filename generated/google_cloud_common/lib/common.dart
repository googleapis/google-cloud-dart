// Copyright 2025 Google LLC
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//     https://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// Code generated by sidekick. DO NOT EDIT.

/// The Google Cloud client for the Common Operation Metadata type.
///
/// Additional metadata for operations.
library;

// ignore_for_file: avoid_unused_constructor_parameters
// ignore_for_file: camel_case_types
// ignore_for_file: comment_references
// ignore_for_file: implementation_imports
// ignore_for_file: lines_longer_than_80_chars
// ignore_for_file: unintended_html_in_doc_comment

import 'package:google_cloud_protobuf/protobuf.dart';
import 'package:google_cloud_protobuf/src/encoding.dart';

/// Represents the metadata of the long-running operation.
final class OperationMetadata extends ProtoMessage {
  static const String fullyQualifiedName =
      'google.cloud.common.OperationMetadata';

  /// Output only. The time the operation was created.
  final Timestamp? createTime;

  /// Output only. The time the operation finished running.
  final Timestamp? endTime;

  /// Output only. Server-defined resource path for the target of the operation.
  final String target;

  /// Output only. Name of the verb executed by the operation.
  final String verb;

  /// Output only. Human-readable status of the operation, if any.
  final String statusDetail;

  /// Output only. Identifies whether the user has requested cancellation
  /// of the operation. Operations that have successfully been cancelled
  /// have `Operation.error` value with a `google.rpc.Status.code` of 1,
  /// corresponding to `Code.CANCELLED`.
  final bool cancelRequested;

  /// Output only. API version used to start the operation.
  final String apiVersion;

  OperationMetadata({
    this.createTime,
    this.endTime,
    this.target = '',
    this.verb = '',
    this.statusDetail = '',
    this.cancelRequested = false,
    this.apiVersion = '',
  }) : super(fullyQualifiedName);

  factory OperationMetadata.fromJson(Object? j) {
    final json = j as Map<String, Object?>;
    return OperationMetadata(
      createTime: switch (json['createTime']) {
        null => null,
        Object $1 => Timestamp.fromJson($1),
      },
      endTime: switch (json['endTime']) {
        null => null,
        Object $1 => Timestamp.fromJson($1),
      },
      target: switch (json['target']) {
        null => '',
        Object $1 => decodeString($1),
      },
      verb: switch (json['verb']) {
        null => '',
        Object $1 => decodeString($1),
      },
      statusDetail: switch (json['statusDetail']) {
        null => '',
        Object $1 => decodeString($1),
      },
      cancelRequested: switch (json['cancelRequested']) {
        null => false,
        Object $1 => decodeBool($1),
      },
      apiVersion: switch (json['apiVersion']) {
        null => '',
        Object $1 => decodeString($1),
      },
    );
  }

  @override
  Object toJson() => {
    if (createTime != null) 'createTime': createTime!.toJson(),
    if (endTime != null) 'endTime': endTime!.toJson(),
    if (target.isNotDefault) 'target': target,
    if (verb.isNotDefault) 'verb': verb,
    if (statusDetail.isNotDefault) 'statusDetail': statusDetail,
    if (cancelRequested.isNotDefault) 'cancelRequested': cancelRequested,
    if (apiVersion.isNotDefault) 'apiVersion': apiVersion,
  };

  @override
  String toString() {
    final contents = [
      'target=$target',
      'verb=$verb',
      'statusDetail=$statusDetail',
      'cancelRequested=$cancelRequested',
      'apiVersion=$apiVersion',
    ].join(',');
    return 'OperationMetadata($contents)';
  }
}
